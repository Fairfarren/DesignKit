<!doctype html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Stencil Component Starter</title>

    <script type="module" src="/build/designkit.esm.js"></script>
    <script nomodule src="/build/designkit.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      .box {
        width: 420px;
        height: 666.66px;
        border: 2px solid black;
      }
    </style>
  </head>

  <body>
    <div class="box">
      <kit-box id="kitBox" width="1080" height="1920"></kit-box>
      <div>
        <button onclick="add()">addImage</button>
      </div>
      <div>
        <button onclick="addText()">addText</button>
      </div>
      <div>
        <button onclick="getList()">getList</button>
      </div>
    </div>
  </body>
  <script>
    function add() {
      const kitBox = document.querySelector('#kitBox')
      const image = new Image()
      image.src =
        'https://material-center.meitudata.com/material/image/62fa22ac354485399.png'
      image.crossOrigin = 'anonymous'

      kitBox.add({
        id: new Date().getTime(),
        width: 100,
        height: 100,
        x: 0,
        y: 0,
        image,
        type: 'image',
      })
    }

    function addText() {
      const kitBox = document.querySelector('#kitBox')
      kitBox.add({
        id: new Date().getTime(),
        width: 100,
        height: 100,
        x: 0,
        y: 0,
        text: '卡拉斯的积分的螺蛳粉框架爱上lks🤔djfklj',
        type: 'text',
      })
    }

    async function getList() {
      const kitBox = document.querySelector('#kitBox')
      const list = await kitBox.getDomList()
      console.log(list)
    }
  </script>
</html>
